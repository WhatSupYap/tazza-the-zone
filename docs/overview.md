# 타짜 - The Zone 프로젝트 개요

**마지막 업데이트**: 2025-11-07

## 📋 프로젝트 정보

**프로젝트명**: 타짜 - The Zone  
**장르**: AI 기반 3장 섯다 카드 게임  
**개발 언어**: Python 3.12+  
**주요 라이브러리**: Pygame 2.5.0+, Requests  
**LLM**: Ollama + Eeve 모델 (선택 사항)  
**개발 방식**: AI 보조 개발 (LLM을 활용한 게임 개발)  
**개발 현황**: v0.9 Beta (플레이 가능)

---

## 🎯 게임 컨셉

### Zone 시스템
극도의 몰입 상태에 도달했을 때 주변의 모든 움직임이 느리게 보이고, 자신은 고속으로 움직이는 것처럼 느끼는 상태. Zone 발동 시 현재 판의 모든 기록(공개/비공개 카드, 상대 발언, 베팅 기록)을 회상할 수 있다.

### 게임 목표
뛰어난 관찰력과 기억력을 바탕으로 느려진 세상 속에서 모든 힌트를 이용하여 섯다 게임에서 승리하는 것.

---

## 🎮 게임 규칙

### 기본 설정
- **게임 방식**: 1:1 대결 (플레이어 vs NPC)
- **종목**: 3장 섯다
- **라운드**: 기본 10판 (설정 변경 가능)
- **시작 금액**: 100,000원 (설정 변경 가능)
- **최소 베팅**: 1,000원 (설정 변경 가능)
- **승리 조건**: 
  - 상대방 올인 파산
  - 10판 종료 시 더 많은 금액 보유 (무승부 가능)

### 게임 진행 순서

0. **턴 순서**
   - 지난판 승리자 우선
   - 첫판일시 랜덤패를 지급하여 패의 높낮이를 비교하여 높은쪽이 선
     - 숫자가 같을 때, 광 > 열끗 > 띠 순서

1. **카드 배분 1-2장**
   - 1, 2번째 카드를 뒷면으로 각 플레이어에게 지급
   - NPC 발화: 카드를 받을 때

2. **1차 베팅 (2장 중 1장 공개)**
   - 2장 중 1장을 선택하여 공개
   - Zone 발동 체크 (확률 기반)
   - 베팅 라운드 진행
   - NPC 발화: 베팅할 때
   - 배팅 시간: 10초 (설정 가능)

3. **3장째 카드 배분**
   - 3번째 카드 지급
   - NPC 발화: 카드를 받을 때

4. **최종 베팅**
   - Zone 발동 체크
   - 최종 베팅 라운드
   - 상대방이 콜하거나 다이할 때까지 진행
   - NPC 발화: 베팅할 때
   - 배팅 시간: 10초 (설정 가능)

5. **쇼다운**
   - 모든 카드 공개
   - 족보 비교 및 승패 결정
   - NPC 발화: 승패 결정 순간

### 베팅 옵션
- 소수점은 반올림 해서 계산
- **다이 (Die)**: 포기, 판돈을 상대에게 넘김
- **체크 (Check)**: 0원 베팅
  - 캐릭터가 첫 베팅시에만 체크 활성
  - 상대방이 체크 외의 선택지를 선택하면 비활성
- **삥**: 최소 단위 1번 (MIN_BET)
  - 캐릭터가 첫 베팅이거나 상대방이 체크를 했을 경우에만 활성
- **하프 (Half)**: 현재 판돈의 절반
  - 현재 보유금이 하프할 금액 보다 적을시 비활성
- **콜 (Call)**: 마지막으로 상대방이 건 금액
- **올인 (All-In)**: 하프 베팅액 액보다 돈이 적을 시 활성

---

## 🃏 섯다 족보 시스템

### 사용 패
1월~10월까지의 화투패 중 피를 제외한 2장씩, 총 20장 사용

| 월 | 패 이름 | 타입 1 | 타입 2 |
|----|---------|--------|--------|
| 1월 | 솔 | 광 | 띠 |
| 2월 | 매조 | 열끗 | 띠 |
| 3월 | 벚꽃 | 광 | 띠 |
| 4월 | 흑싸리 | 열끗 | 띠 |
| 5월 | 난초 | 열끗 | 띠 |
| 6월 | 모란 | 열끗 | 띠 |
| 7월 | 홍싸리 | 열끗 | 띠 |
| 8월 | 공산 | 광 | 열끗 |
| 9월 | 국진 | 열끗 | 띠 |
| 10월 | 단풍 | 열끗 | 띠 |

### 족보 순위 (높은 순서)

| 순위 | 족보 | 조합 | 설명 |
|------|------|------|------|
| 1 | 삼팔광땡 | 3광+8광 | 최강의 족보 |
| 2 | 광땡 | 광 2장 | 삼팔광땡 제외, 높은 광이 우선 |
| 3 | 땡 | 같은 월 2장 | 10땡(장땡)~1땡(삥땡), 높은 숫자 우선 |
| 4 | 알리 | 1월+2월 | 특수 조합 |
| 5 | 독사 | 1월+4월 | 특수 조합 |
| 6 | 구삥 | 1월+9월 | 특수 조합 |
| 7 | 장삥 | 1월+10월 | 특수 조합 |
| 8 | 장사 | 4월+10월 | 특수 조합 |
| 9 | 세륙 | 4월+6월 | 특수 조합 |
| 10 | 갑오 (9끗) | 합이 9 | 예: 5월+4월, 7월+2월 |
| 11 | 8~1끗 | 합의 끝자리 | 숫자가 높을수록 우선 |
| 12 | 망통 (0끗) | 합이 10/20 | 최약의 족보 |

### 특수 족보

| 족보 | 조합 | 효과 |
|------|------|------|
| 땡잡이 | 3월+7월 | 광땡 제외한 모든 땡(1땡~9땡) 승리 |
| 구사 | 4월+9월 | 땡 아래 모든 족보에 대해 현재 베팅된 모든 금액을 묻고 2장으로만 재경기 |
| 멍텅구리 구사 | 4열끗+9열끗 | 구사와 동일하나 9땡까지 잡을 수 있음 |
| 암행어사 | 4열끗+7열끗 | 1광땡, 3광땡 승리 (삼팔광땡 제외) |

### 구사 재경기 룰
- 2장이 지급되며 선 공개하는 패 없이 **쇼다운**

---

## 🎴 화투패 이미지 에셋

### 파일 위치
`./assets/cards/`

### 파일명 규칙
- **광 (Gwang)**: `{숫자}g.png` (예: `1g.png`, `3g.png`, `8g.png`)
- **띠 (Tti)**: `{숫자}t.png` (예: `1t.png`, `2t.png`, ..., `10t.png`)
- **열끗 (Yeolkkut)**: `{숫자}k.png` (예: `2k.png`, `4k.png`, ..., `10k.png`)
- **카드 뒷면**: `back.png`

### 현재 보유 이미지 목록 (20장 + 뒷면)

| 월 | 패 이름 | 광 | 띠 | 열끗 |
|----|---------|----|----|------|
| 1월 | 솔 | ✅ `1g.png` | ✅ `1t.png` | - |
| 2월 | 매조 | - | ✅ `2t.png` | ✅ `2k.png` |
| 3월 | 벚꽃 | ✅ `3g.png` | ✅ `3t.png` | - |
| 4월 | 흑싸리 | - | ✅ `4t.png` | ✅ `4k.png` |
| 5월 | 난초 | - | ✅ `5t.png` | ✅ `5k.png` |
| 6월 | 모란 | - | ✅ `6t.png` | ✅ `6k.png` |
| 7월 | 홍싸리 | - | ✅ `7t.png` | ✅ `7k.png` |
| 8월 | 공산 | ✅ `8g.png` | - | ✅ `8k.png` |
| 9월 | 국진 | - | ✅ `9t.png` | ✅ `9k.png` |
| 10월 | 단풍 | - | ✅ `10t.png` | ✅ `10k.png` |
| - | 뒷면 | - | - | ✅ `back.png` |

**총 21개 파일 보유** (게임용 20장 + 뒷면 1장)

### 이미지 로드 예시 코드
```python
# card.py에서 사용할 경로 패턴
def get_card_image_path(month, card_type):
    """
    month: 1~10
    card_type: 'gwang', 'tti', 'yeolkkut'
    """
    type_code = {
        'gwang': 'g',
        'tti': 't',
        'yeolkkut': 'k'
    }
    return f"assets/cards/{month}{type_code[card_type]}.png"

# 뒷면 이미지
CARD_BACK_PATH = "assets/cards/back.png"
```

### 이미지 사양 권장
- **포맷**: PNG (투명 배경 권장)
- **크기**: 가로 200px × 세로 300px (비율 2:3)
- **해상도**: 최소 72 DPI, 권장 150 DPI

---

## 🤖 NPC AI 시스템

### LLM 역할
LLM은 특정 스테이터스에 맞춰 반응하는 NPC로 동작. 페르소나에 맞춰 거짓말, 블러핑, 기만 행위 등을 수행.

### NPC 발화 타이밍
1. 매번 패를 받을 때
2. 배팅하는 때
3. 승패가 결정된 순간

### 기본 능력치 (각 1~10점)

#### 1. 침착성 (Composure)
- **역할**: 불리한 상황이나 큰 돈 앞에서 평정심을 유지하는 능력
- **효과**: 
  - 침착성이 낮으면 멘탈 수치가 쉽게 떨어짐
  - 침착성이 낮으면 일정 확률로 자신의 패만 보고 상대방 패를 계산하지 못함

#### 2. 말빨/기만 (Deception)
- **역할**: 블러핑을 하거나 상대방을 흔드는 대화술
- **효과**: 수치가 높으면 말을 할 확률이 높음

#### 3. 배짱 (Guts/Boldness)
- **역할**: 올인이나 위험한 판에 과감하게 참여하는 용기
- **효과**:
  - 베팅 금액의 상한선 증가
  - 낮은 승률에서도 베팅 시 보너스 심리 효과
  - 배짱 수치가 낮으면 쉽게 돈을 올리지 않음

#### 4. 멘탈 회복력 (Recovery)
- **역할**: 패배의 충격에서 벗어나 다음 판에 집중하는 능력
- **효과**: 라운드 종료 시 멘탈 회복량 결정

### 실시간 변동 수치

#### 멘탈 (Mental)
- **시작값**: 100
- **감소 조건**: 패배 시 1~5 랜덤 감소
- **임계점**: 30 이하로 떨어지면 침착성, 말빨/기만, 배짱이 **반으로 감소**
- **회복**: 라운드 종료 시 (멘탈 회복력 × 2)만큼 회복

#### 분노 (Anger)
- **시작값**: 0
- **증가 조건**: 패배 시 `(1~5) × ((10 - 침착성) × 0.5)` 만큼 증가
- **임계점**: 70 초과 시 배짱 수치와 상관없이 **베팅 금액 상한선 무시**
- **감소**: 라운드 종료 시 멘탈 회복력만큼 감소, 승리시 (1~5) 만큼 감소

---

## 🌟 Zone 시스템

### 발동 조건 (확률 기반, 베팅 타이밍마다 체크)

| 조건 | 발동 확률 |
|------|-----------|
| 기본 | 5% |
| 판돈 50% 이상 베팅 시 | 15% |
| 특수 족보 시 | 20% |

**확률 수치는 직접 수정 가능** (`config.py`의 `ZONE_BASE_CHANCE`, `ZONE_HIGH_BET_CHANCE`, `ZONE_SPECIAL_HAND_CHANCE`)

### Zone 제약
- **1판당 1회만 사용 가능**
- **지속 시간**: 60초 (기본값, `ZONE_DURATION`으로 변경 가능)

### Zone 효과
발동 시 해당 판의 시작부터 현재까지의 모든 기록을 회상 가능:
- 공개된 카드
- 공개되지 않은 카드 (상대방 카드 포함)
- 상대방의 모든 발언
- 베팅 기록

---

## 🛠️ 기술 스택

### 언어 및 프레임워크
- **Python 3.12+**
- **Pygame 2.5.0+**: 게임 UI
- **Requests**: HTTP 통신

### LLM
- **모델**: Llama (Eeve 모델)
- **실행 방식**: 
  - 로컬: Ollama (현재)
  - 클라우드: API 전환 예정 (속도 개선)
- **API URL**: `http://localhost:11434/api/generate` (Ollama 기본)
- **용도**: NPC 상황과 스테이터스를 전달하여 페르소나에 맞는 발언 생성

---

## 📁 프로젝트 구조

```
phase2.5_game/
├── main.py                  # 메인 실행 파일 (콘솔 버전)
├── requirements.txt         # Python 패키지 의존성
├── README.md               # 프로젝트 설명서
│
├── src/                    # 소스 코드
│   ├── config.py          # 게임 설정 (화면, 금액, Zone 등)
│   │
│   ├── core/              # 핵심 게임 로직
│   │   ├── card.py       # 카드 및 덱 시스템
│   │   ├── hand_evaluator.py  # 섯다 족보 판정
│   │   ├── player.py     # 플레이어 클래스
│   │   ├── game.py       # 게임 메인 로직
│   │   └── zone.py       # Zone 시스템
│   │
│   ├── ai/                # AI 시스템
│   │   ├── npc.py        # NPC AI (능력치, 멘탈, 분노)
│   │   └── llm_handler.py  # LLM API 통신
│   │
│   └── ui/                # UI
│       └── game_ui.py    # Pygame UI (개발 중)
│
├── tests/                 # 테스트 파일
│   └── test_game.py      # 유닛 테스트
│
├── docs/                  # 문서
│   └── overview.md       # 프로젝트 상세 개요
│
└── assets/               # 게임 리소스
    ├── cards/           # 카드 이미지 (20장)
    ├── sounds/          # 사운드/배경음악
    └── fonts/           # 폰트 파일
```

---

## 🔧 주요 파일 설명

### ./src/config.py
게임의 모든 설정값 관리:
- 화면 크기, FPS, 색상
- 게임 설정 (라운드 수, 시작 금액, 최소 베팅)
- Zone 설정 (확률, 지속 시간)
- NPC 능력치 범위
- 멘탈/분노 설정
- 에셋 경로
- LLM 설정 (모델명, API URL, 타임아웃)

### ./src/core/card.py
화투 카드 시스템:
- `Card` 클래스: 개별 카드 (월, 타입, 공개 여부)
- `Deck` 클래스: 20장 덱 관리, 섞기, 카드 뽑기

### ./src/core/hand_evaluator.py
섯다 족보 판정:
- `evaluate()`: 2장 카드로 족보 평가 (랭킹, 이름, 상세 정보 반환)
- `compare()`: 두 패 비교 (승/무/패)
- `is_special_hand()`: 특수 족보 여부 확인 (Zone 확률 증가용)
- 12개 기본 족보 + 4개 특수 족보 완전 구현

### ./src/core/player.py
플레이어 클래스:
- 이름, 자금, 카드, 게임 기록 관리
- 베팅 가능 여부 체크

### ./src/core/game.py
게임 메인 로직:
- 게임 진행 전체 관리
- 라운드 시작/종료
- 카드 배분 (1-2장, 3장)
- 배팅 라운드
- 쇼다운 (족보 비교)
- Zone 발동 체크
- NPC 발화 트리거
- 게임 종료 조건 체크
- 공개된 패를 기준으로 승리 확율 체크

### ./src/core/zone.py
Zone 시스템:
- 발동 확률 계산 (판돈, 특수 족보 고려)
- Zone 활성화/비활성화 관리
- 게임 기록 회상 기능
- 시간 초과 체크
- 라운드별 초기화

### ./src/ai/npc.py
NPC AI 시스템:
- 4가지 기본 능력치 관리
- 멘탈/분노 동적 변화
- 능력치 업데이트 (멘탈에 따른 반감)
- 배팅 의사결정 (현재는 기본 로직, 추후 개선 필요)
- 발화 확률 계산
- 상대 패 계산 여부 결정

### ./src/ai/llm_handler.py
LLM API 통신:
- `generate_dialogue()`: NPC 대사 생성
- `_build_prompt()`: 상황별 프롬프트 구성
- `_call_api()`: Ollama API 호출
- `_get_fallback_dialogue()`: API 실패 시 기본 대사

### ./main.py
콘솔 버전 실행:
- 플레이어 이름 입력
- 샘플 NPC 생성
- 게임 루프 실행
- 결과 출력

### ./src/ui/game_ui.py
Pygame UI (기본 구조만 구현):
- 메뉴 화면
- 게임 화면 (TODO)
- Zone 화면 (TODO)
- 결과 화면 (TODO)
- 카드/버튼 그리기 함수

### ./tests/test_game.py
유닛 테스트:
- 카드 시스템 테스트
- 족보 판정 테스트
- NPC 시스템 테스트

---

## 🚀 설치 및 실행

### 1. 패키지 설치
```powershell
pip install -r requirements.txt
```

**requirements.txt 내용:**
```
pygame>=2.5.0
requests>=2.31.0
```

### 2. Ollama 설치 (LLM 로컬 실행)
1. https://ollama.ai 에서 다운로드 및 설치
2. Eeve 모델 다운로드:
```powershell
ollama pull eeve
```

### 3. 게임 실행

#### 콘솔 버전 (현재 작동)
```powershell
python main.py
```

#### Pygame UI 버전 (개발 중)
```powershell
python game_ui.py
```

#### 테스트 실행
```powershell
python test_game.py
```

---

## ✅ 현재 구현 상태

### 완료된 기능
- ✅ 섯다 게임 로직 (3장 섯다, 배팅, 족보 판정)
- ✅ 12개 기본 족보 + 4개 특수 족보 완전 구현
- ✅ NPC AI 시스템 (능력치, 멘탈, 분노)
- ✅ LLM 통합 (Ollama API, 프롬프트 생성)
- ✅ Zone 시스템 (발동 조건, 기록 회상)
- ✅ 콘솔 버전 게임 실행 가능
- ✅ 유닛 테스트 작성

### 개발 중 / 미완성
- ⏳ Pygame UI 전체 구현
- ⏳ 플레이어 입력 처리 (카드 선택, 배팅 입력)
- ⏳ Zone UI (기록 표시)
- ⏳ 카드 이미지 로드 및 표시
- ⏳ 사운드 시스템
- ⏳ NPC AI 로직 정교화
- ⏳ 게임 밸런스 조정

---

## 📝 TODO 리스트

### 우선순위 높음
- [ ] **Pygame UI 완성**
  - [ ] 게임 화면 레이아웃
  - [ ] 플레이어/NPC 정보 표시
  - [ ] 카드 배치 및 애니메이션
  - [ ] 판돈/자금 표시
  - [ ] 배팅 버튼 (다이, 체크, 삥, 하프, 콜)
  - [ ] Zone 버튼 (활성화 조건에 따라 표시)

- [ ] **플레이어 입력 시스템**
  - [ ] 카드 선택 (2장 중 1장 공개)
  - [ ] 배팅 금액 입력
  - [ ] 배팅 옵션 선택
  - [ ] Zone 사용 버튼

- [ ] **Zone UI 구현**
  - [ ] 게임 기록 타임라인 표시
  - [ ] 공개/비공개 카드 표시
  - [ ] 대화 기록 표시
  - [ ] 베팅 기록 표시
  - [ ] 남은 시간 표시

### 우선순위 중간
- [ ] **에셋 통합**
  - [ ] 카드 이미지 20장 추가
  - [ ] 카드 이미지 로드 시스템
  - [ ] 카드 뒷면 이미지
  - [ ] 배경 이미지
  - [ ] 한글 폰트 추가

- [ ] **사운드 시스템**
  - [ ] 배경음악 재생
  - [ ] 카드 배분 효과음
  - [ ] 배팅 효과음
  - [ ] 승리/패배 효과음
  - [ ] Zone 발동 효과음
  - [ ] 볼륨 조절 기능

- [ ] **NPC AI 개선**
  - [ ] 승률 계산 로직 정교화
  - [ ] 상대 패 추정 알고리즘
  - [ ] 배팅 전략 다양화
  - [ ] 블러핑 타이밍 최적화
  - [ ] 능력치별 행동 패턴 차별화

### 우선순위 낮음
- [ ] **추가 기능**
  - [ ] 여러 NPC 페르소나 추가
  - [ ] NPC 선택 화면
  - [ ] 게임 저장/불러오기
  - [ ] 전적 및 통계
  - [ ] 업적 시스템
  - [ ] 설정 메뉴 (음량, 난이도 등)
  - [ ] 튜토리얼

- [ ] **최적화**
  - [ ] LLM API 응답 속도 개선
  - [ ] 클라우드 API 전환
  - [ ] 메모리 사용 최적화
  - [ ] 로딩 시간 단축

---

## 🎨 UI/UX 방향성

### 그래픽 스타일
- **2D 스타일**: 간결하고 깔끔한 디자인
- **색상**: 다크 그린 배경 (포커 테이블 느낌), 골드 강조색
- **폰트**: 한글 지원, 가독성 높은 폰트
- **입력**: 주로 마우스 클릭방식

### 화면 구성 (예상)

#### 타이틀 화면

```
╔════════════════════════════════════════════════════════════════════════════╗
║  🃏  🎴  🂡  🃏  🎴  🂡  🃏  🎴  🂡  🃏  🎴  🂡  🃏  🎴  🂡  🃏  🎴  🂡  ║
║                                                                            ║
║        ████████╗ █████╗ ███████╗███████╗ █████╗                           ║
║        ╚══██╔══╝██╔══██╗╚══███╔╝╚══███╔╝██╔══██╗                          ║
║           ██║   ███████║  ███╔╝   ███╔╝ ███████║                          ║
║           ██║   ██╔══██║ ███╔╝   ███╔╝  ██╔══██║                          ║
║           ██║   ██║  ██║███████╗███████╗██║  ██║                          ║
║           ╚═╝   ╚═╝  ╚═╝╚══════╝╚══════╝╚═╝  ╚═╝                          ║
║                                                                            ║
║                    ████████╗██╗  ██╗███████╗                              ║
║                    ╚══██╔══╝██║  ██║██╔════╝                              ║
║                       ██║   ███████║█████╗                                ║
║                       ██║   ██╔══██║██╔══╝                                ║
║                       ██║   ██║  ██║███████╗                              ║
║                       ╚═╝   ╚═╝  ╚═╝╚══════╝                              ║
║                                                                            ║
║             ███████╗ ██████╗ ███╗   ██╗███████╗                           ║
║             ╚══███╔╝██╔═══██╗████╗  ██║██╔════╝                           ║
║               ███╔╝ ██║   ██║██╔██╗ ██║█████╗                             ║
║              ███╔╝  ██║   ██║██║╚██╗██║██╔══╝                             ║
║             ███████╗╚██████╔╝██║ ╚████║███████╗                           ║
║             ╚══════╝ ╚═════╝ ╚═╝  ╚═══╝╚══════╝                           ║
║                                                                            ║
║                  극도의 몰입 상태, Zone에 들어가라                           ║
║                                                                            ║
║                                                                            ║
║                                                                            ║
║                      ┌─────────────────────────┐                          ║
║                      │   ▶  게임 시작  ◀       │                          ║
║                      └─────────────────────────┘                          ║
║                                                                            ║
║                                                                            ║
║  ╔══════════════════════════════════════════════════════════════════════╗ ║
║  ║████████████████████████░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░║ ║
║  ╚══════════════════════════════════════════════════════════════════════╝ ║
║  Loading... 25%                                               v1.0.0      ║
╚════════════════════════════════════════════════════════════════════════════╝
```

#### 상대 선택 화면
```
╔════════════════════════════════════════════════════════════════════════════╗
║                                                                            ║
║                      🎯 상대를 선택하세요 🎯                               ║
║                                                                            ║
╠════════════════════════════════════════════════════════════════════════════╣
║                                                                            ║
║                                                                            ║
║     ┌──────────────┐    ┌──────────────┐    ┌──────────────┐             ║
║     │              │    │              │    │              │             ║
║     │    🎴 고니   │    │   🃏 평경장  │    │   🂡 아귀    │             ║
║     │              │    │              │    │              │             ║
║     │   ▄▄▄▄▄▄▄   │    │   ▄▄▄▄▄▄▄   │    │   ▄▄▄▄▄▄▄   │             ║
║     │  ███░░░███  │    │  ███░░░███  │    │  ███░░░███  │             ║
║     │  ███░░░███  │    │  ███░░░███  │    │  ███░░░███  │             ║
║  ◀  │  ███░░░███  │    │  ███░░░███  │    │  ███░░░███  │  ▶          ║
║     │  ███░░░███  │    │  ███░░░███  │    │  ███░░░███  │             ║
║     │   ▀▀▀▀▀▀▀   │    │   ▀▀▀▀▀▀▀   │    │   ▀▀▀▀▀▀▀   │             ║
║     │              │    │              │    │              │             ║
║     │ "대학 시절   │    │ "화투는 인생 │    │ "승부는 냉정 │             ║
║     │  타짜였지."  │    │  그 자체다." │    │  하게."      │             ║
║     │              │    │              │    │              │             ║
║     ├──────────────┤    ├──────────────┤    ├──────────────┤             ║
║     │💪 침착성: 7  │    │💪 침착성: 5  │    │💪 침착성: 9  │             ║
║     │🗣️  말빨/기만:│    │🗣️  말빨/기만:│    │🗣️  말빨/기만:│             ║
║     │   8/10       │    │   9/10       │    │   4/10       │             ║
║     │🎲 배짱: 6    │    │🎲 배짱: 7    │    │🎲 배짱: 8    │             ║
║     │💚 멘탈 회복: │    │💚 멘탈 회복: │    │💚 멘탈 회복: │             ║
║     │   5/10       │    │   6/10       │    │   3/10       │             ║
║     │              │    │              │    │              │             ║
║     │ 난이도: ★★☆  │    │ 난이도: ★★★  │    │ 난이도: ★★☆  │             ║
║     └──────────────┘    └──────────────┘    └──────────────┘             ║
║                                                                            ║
║                               [ 2 / 5 ]                                    ║
║                                                                            ║
║  ══════════════════════════════════════════════════════════════════       ║
║                                                                            ║
║  📖 평경장의 특징:                                                          ║
║     전설의 타짜. 화려한 말솜씨로 상대를 혼란에 빠뜨린다.                     ║
║     높은 기만 능력으로 끊임없이 블러핑을 시도한다.                          ║
║     침착성이 낮아 압박에 약하지만, 회복력이 좋아 금방 돌아온다.             ║
║                                                                            ║
║  ══════════════════════════════════════════════════════════════════       ║
║                                                                            ║
║       ◀ [이전]        ┌─────────────────┐        [다음] ▶     [X]        ║
║                       │  선택 확정하기   │                                ║
║                       └─────────────────┘                                 ║
║                                                                            ║
╚════════════════════════════════════════════════════════════════════════════╝
```

#### 상대 선택 화면 (다른 페이지 - 잠긴 캐릭터)
```
╔════════════════════════════════════════════════════════════════════════════╗
║                                                                            ║
║                      🎯 상대를 선택하세요 🎯                               ║
║                                                                            ║
╠════════════════════════════════════════════════════════════════════════════╣
║                                                                            ║
║                                                                            ║
║     ┌──────────────┐    ┌──────────────┐    ┌──────────────┐             ║
║     │              │    │              │    │              │             ║
║     │   🎰 정마담  │    │   🃏 ??? 🃏  │    │              │             ║
║     │              │    │  (잠김)      │    │              │             ║
║     │   ▄▄▄▄▄▄▄   │    │   ▄▄▄▄▄▄▄   │    │              │             ║
║     │  ███░░░███  │    │  ███▓▓▓███  │    │              │             ║
║     │  ███░░░███  │    │  ███▓▓▓███  │    │              │             ║
║  ◀  │  ███░░░███  │    │  ███▓▓▓███  │    │              │  ▶          ║
║     │  ███░░░███  │    │  ███▓▓▓███  │    │              │             ║
║     │   ▀▀▀▀▀▀▀   │    │   ▀▀▀▀▀▀▀   │    │              │             ║
║     │              │    │              │    │              │             ║
║     │ "돈이 최고야"│    │  "고니를     │    │              │             ║
║     │              │    │   이겨라"    │    │              │             ║
║     │              │    │              │    │              │             ║
║     ├──────────────┤    ├──────────────┤    ├──────────────┤             ║
║     │💪 침착성: 8  │    │💪 침착성: ???│    │              │             ║
║     │🗣️  말빨/기만:│    │🗣️  말빨/기만:│    │              │             ║
║     │   6/10       │    │   ???        │    │              │             ║
║     │🎲 배짱: 9    │    │🎲 배짱: ???  │    │              │             ║
║     │💚 멘탈 회복: │    │💚 멘탈 회복: │    │              │             ║
║     │   4/10       │    │   ???        │    │              │             ║
║     │              │    │              │    │              │             ║
║     │ 난이도: ★★★  │    │ 난이도: ★★★★ │    │              │             ║
║     │              │    │  🔒 잠김      │    │              │             ║
║     └──────────────┘    └──────────────┘    └──────────────┘             ║
║                                                                            ║
║                               [ 4 / 5 ]                                    ║
║                                                                            ║
║  ══════════════════════════════════════════════════════════════════       ║
║                                                                            ║
║  📖 정마담의 특징:                                                          ║
║     노련한 도박사. 돈에 대한 집착이 강하다.                                 ║
║     높은 침착성과 배짱으로 큰 판을 두려워하지 않는다.                       ║
║     말은 적지만 행동으로 압박한다. 회복력이 낮아 한번 무너지면 위험하다.    ║
║                                                                            ║
║  ══════════════════════════════════════════════════════════════════       ║
║                                                                            ║
║       ◀ [이전]        ┌─────────────────┐        [다음] ▶     [X]        ║
║                       │  선택 확정하기   │                                ║
║                       └─────────────────┘                                 ║
║                                                                            ║
╚════════════════════════════════════════════════════════════════════════════╝
```

#### 플레이 화면
```
┌───────┬─────────────────────────────────────────┐
│  NPC  │  NPC 정보 (이름, 💵금액, 🧠멘탈, 😠분노)  │
│ 초상화 │  💬 NPC 대화 표시                        │
├───────┴─────────────────────────────────────────┤
│                                                 │
│          [카드1] [카드2] [카드3]                  │
│               NPC 카드 영역                      │
│                                                 │
│  ┌─────────────────────────────────────────┐    │
│  │         판돈: 10,000원                   │   │
│  └─────────────────────────────────────────┘   │
│                                                 │
│          [카드1] [카드2] [카드3]                  │
│            플레이어 카드 영역                     │
│                                                 │
├─────────────────────────────────────────────────┤
│  플레이어 정보 (이름, 💵금액)                      │
│  [다이] [체크] [삥] [하프] [콜] [🌟Zone]          │
└─────────────────────────────────────────────────┘
```

#### 판 결과 화면 (플레이어 패배)
```
╔════════════════════════════════════════════════════════════════════════════╗
║                          🎊 라운드 5 결과 🎊                            [x] ║
╠════════════════════════════════════════════════════════════════════════════╣
║                                                                            ║
║                            ⚔️  쇼다운  ⚔️                                  ║
║                                                                            ║
║  ┌──────────────────────────────────────────────────────────────────┐     ║
║  │  [고니]                                       💰 85,000원        │     ║
║  │                                               🧠 멘탈: ████░░ 40  │     ║
║  │                                               😠 분노: ████████ 85│     ║
║  │     ┌─────┐  ┌─────┐  ┌─────┐                                   │     ║
║  │     │ 3월 │  │ 8월 │  │ 7월 │                                   │     ║
║  │     │ 광  │  │ 광  │  │ 띠  │                                   │     ║
║  │     └─────┘  └─────┘  └─────┘                                   │     ║
║  │                                                                  │     ║
║  │          족보: ⭐ 삼팔광땡 (38광땡) ⭐                             │     ║
║  │                                                                  │     ║
║  └──────────────────────────────────────────────────────────────────┘     ║
║                                                                            ║
║                              VS                                            ║
║                                                                            ║
║  ┌──────────────────────────────────────────────────────────────────┐     ║
║  │  [플레이어]                                   💰 115,000원       │     ║
║  │                                                                  │     ║
║  │     ┌─────┐  ┌─────┐  ┌─────┐                                   │     ║
║  │     │ 4월 │  │ 6월 │  │ 2월 │                                   │     ║
║  │     │열끗 │  │열끗 │  │ 띠  │                                   │     ║
║  │     └─────┘  └─────┘  └─────┘                                   │     ║
║  │                                                                  │     ║
║  │          족보: 🃏 세륙 (4+6 특수)                                 │     ║
║  │                                                                  │     ║
║  └──────────────────────────────────────────────────────────────────┘     ║
║                                                                            ║
║  ═══════════════════════════════════════════════════════════════════      ║
║                                                                            ║
║                         🏆 고니 승리! 🏆                                   ║
║                                                                            ║
║                  💰 판돈: 30,000원 → 고니 획득                             ║
║                                                                            ║
║  ╔════════════════════════════════════════════════════════════════╗       ║
║  ║  금액 변동                                                      ║       ║
║  ║  ────────────────────────────────────────────────────────       ║       ║
║  ║  고니:      55,000원  →  85,000원  (⬆️ +30,000)               ║       ║
║  ║  플레이어: 145,000원  → 115,000원  (⬇️ -30,000)               ║       ║
║  ╚════════════════════════════════════════════════════════════════╝       ║
║                                                                            ║
║  💬 고니: "이게 바로 타짜의 실력이지!"                                      ║
║                                                                            ║
║  📊 현재 전적: 5판 중 3승 2패                                              ║
║                                                                            ║
║                        ┌───────────────────┐                              ║
║                        │  다음 라운드 진행  │                              ║
║                        └───────────────────┘                              ║
║                                                                            ║
╚════════════════════════════════════════════════════════════════════════════╝
```

#### 판 결과 화면 (플레이어 승리)
```
╔════════════════════════════════════════════════════════════════════════════╗
║                          💥 라운드 7 결과 💥                           [x] ║
╠════════════════════════════════════════════════════════════════════════════╣
║                                                                            ║
║                            ⚔️  쇼다운  ⚔️                                  ║
║                                                                            ║
║  ┌──────────────────────────────────────────────────────────────────┐     ║
║  │  [고니]                                       💰 45,000원        │     ║
║  │                                               🧠 멘탈: ████░░ 40  │     ║
║  │                                               😠 분노: ████████ 85│     ║
║  │     ┌─────┐  ┌─────┐  ┌─────┐                                   │     ║
║  │     │ 5월 │  │ 2월 │  │ 1월 │                                   │     ║
║  │     │열끗 │  │열끗 │  │ 띠  │                                   │     ║
║  │     └─────┘  └─────┘  └─────┘                                   │     ║
║  │                                                                  │     ║
║  │          족보: 🃏 7끗                                             │     ║
║  │                                                                  │     ║
║  └──────────────────────────────────────────────────────────────────┘     ║
║                                                                            ║
║                              VS                                            ║
║                                                                            ║
║  ┌──────────────────────────────────────────────────────────────────┐     ║
║  │  [플레이어]                                   💰 155,000원       │     ║
║  │                                                                  │     ║
║  │     ┌─────┐  ┌─────┐  ┌─────┐                                   │     ║
║  │     │10월 │  │10월 │  │ 5월 │                                   │     ║
║  │     │열끗 │  │ 띠  │  │ 띠  │                                   │     ║
║  │     └─────┘  └─────┘  └─────┘                                   │     ║
║  │                                                                  │     ║
║  │          족보: ⭐ 장땡 (10땡) ⭐                                   │     ║
║  │                                                                  │     ║
║  └──────────────────────────────────────────────────────────────────┘     ║
║                                                                            ║
║  ═══════════════════════════════════════════════════════════════════      ║
║                                                                            ║
║                      🎯 플레이어 승리! 🎯                                   ║
║                                                                            ║
║                  💰 판돈: 50,000원 → 플레이어 획득                          ║
║                                                                            ║
║  ╔════════════════════════════════════════════════════════════════╗       ║
║  ║  금액 변동                                                      ║       ║
║  ║  ────────────────────────────────────────────────────────       ║       ║
║  ║  고니:      95,000원  →  45,000원  (⬇️ -50,000) ⚠️            ║       ║
║  ║  플레이어: 105,000원  → 155,000원  (⬆️ +50,000) 🔥            ║       ║
║  ╚════════════════════════════════════════════════════════════════╝       ║
║                                                                            ║
║  💬 고니: "젠장... 이럴 수가..."  (😡 분노 상승!)                          ║
║                                                                            ║
║  📊 현재 전적: 7판 중 4승 3패                                              ║
║                                                                            ║
║  ⚡ Zone 발동 가능! (다음 판)                                              ║
║                                                                            ║
║                        ┌───────────────────┐                              ║
║                        │  다음 라운드 진행  │                              ║
║                        └───────────────────┘                              ║
║                                                                            ║
╚════════════════════════════════════════════════════════════════════════════╝
```

#### 최종 결과 화면 (게임 종료)
```
╔════════════════════════════════════════════════════════════════════════════╗
║                                                                        [x] ║
║                    ██████╗  █████╗ ███╗   ███╗███████╗                    ║
║                   ██╔════╝ ██╔══██╗████╗ ████║██╔════╝                    ║
║                   ██║  ███╗███████║██╔████╔██║█████╗                      ║
║                   ██║   ██║██╔══██║██║╚██╔╝██║██╔══╝                      ║
║                   ╚██████╔╝██║  ██║██║ ╚═╝ ██║███████╗                    ║
║                    ╚═════╝ ╚═╝  ╚═╝╚═╝     ╚═╝╚══════╝                    ║
║                                                                            ║
║                         🎊 게임 종료! 🎊                                   ║
║                                                                            ║
╠════════════════════════════════════════════════════════════════════════════╣
║                                                                            ║
║                          🏆 최종 승자 🏆                                   ║
║                                                                            ║
║                          플레이어 승리!                                     ║
║                                                                            ║
║  ╔════════════════════════════════════════════════════════════════╗       ║
║  ║                      📊 최종 결과                              ║       ║
║  ║  ══════════════════════════════════════════════════════════    ║       ║
║  ║                                                                ║       ║
║  ║  총 라운드:        10판                                        ║       ║
║  ║  플레이어 승:       7승                                        ║       ║
║  ║  고니 승:          3승                                         ║       ║
║  ║                                                                ║       ║
║  ║  ──────────────────────────────────────────────────────        ║       ║
║  ║                                                                ║       ║
║  ║  시작 금액:    100,000원                                       ║       ║
║  ║  최종 금액:    178,000원  (⬆️ +78,000)                        ║       ║
║  ║                                                                ║       ║
║  ║  고니 최종:     22,000원  (⬇️ -78,000)                        ║       ║
║  ║                                                                ║       ║
║  ║  ══════════════════════════════════════════════════════════    ║       ║
║  ║                                                                ║       ║
║  ║  🌟 Zone 사용:      5회                                        ║       ║
║  ║  💰 최대 판돈:      85,000원 (라운드 8)                        ║       ║
║  ║  🎴 최고 족보:      삼팔광땡 (라운드 3)                        ║       ║
║  ║  🔥 최대 연승:      4연승                                      ║       ║
║  ║                                                                ║       ║
║  ╚════════════════════════════════════════════════════════════════╝       ║
║                                                                            ║
║  ┌──────────────────────────────────────────────────────────────┐         ║
║  │  💬 고니의 마지막 말                                          │         ║
║  │  ────────────────────────────────────────────────────         │         ║
║  │  "당신... 정말 대단하군. Zone을 완벽하게 활용했어.            │         ║
║  │   이 판은 내가 졌지만, 언젠가 다시 붙자고."                   │         ║
║  └──────────────────────────────────────────────────────────────┘         ║
║                                                                            ║
║  ═══════════════════════════════════════════════════════════════          ║
║                                                                            ║
║            ┌──────────────┐                  ┌──────────────┐             ║
║            │  다시 시작    │                  │   게임 종료   │             ║
║            └──────────────┘                  └──────────────┘             ║
║                                                                            ║
╚════════════════════════════════════════════════════════════════════════════╝
```

#### Zone 활성화 화면
```
╔════════════════════════════════════════════════════════════════════════════╗
║  🕐💫 ZONE 활성화 💫🕐                          ⏱️  남은 시간: 45초     [x] ║
╠════════════════════════════════════════════════════════════════════════════╣
║                                                                            ║
║  ⚡ 시간이 느려진다... 모든 것을 기억하라 ⚡                                 ║
║                                                                            ║
║  ╔══════════════════════╗                                                 ║
║  ║  ✨✨✨✨✨✨✨✨  ║                                                 ║
║  ║  ✨              ✨  ║  [고니]                                          ║
║  ║  ✨   ▄▄▄▄▄▄▄   ✨  ║  💵 85,000원                                     ║
║  ║  ✨  ███░░░███  ✨  ║  🧠 멘탈: ████░░░░ 40                            ║
║  ║  ✨  ███░░░███  ✨  ║  😠 분노: ████████░ 85                           ║
║  ║  ✨  ███░░░███  ✨  ║                                                  ║
║  ║  ✨  ███░░░███  ✨  ║  [ 클릭하여 기록 확인 ]                           ║
║  ║  ✨   ▀▀▀▀▀▀▀   ✨  ║                                                  ║
║  ║  ✨              ✨  ║                                                  ║
║  ║  ✨✨✨✨✨✨✨✨  ║                                                 ║
║  ╚══════════════════════╝                                                 ║
║                                                                            ║
║  ┌────────────────────────────────────────────────────────────────┐       ║
║  │         [카드1]      [카드2]      [카드3]                      │       ║
║  │           NPC 카드 영역                                        │       ║
║  └────────────────────────────────────────────────────────────────┘       ║
║                                                                            ║
║  ┌────────────────────────────────────────────────────────────────┐       ║
║  │                   판돈: 50,000원                               │       ║
║  └────────────────────────────────────────────────────────────────┘       ║
║                                                                            ║
║  ┌────────────────────────────────────────────────────────────────┐       ║
║  │         [카드1]      [카드2]      [카드3]                      │       ║
║  │        플레이어 카드 영역                                      │       ║
║  └────────────────────────────────────────────────────────────────┘       ║
║                                                                            ║
║  플레이어 정보 (이름, 💵 155,000원)                                        ║
║                                                                            ║
║  💡 Zone 중에는 NPC의 모든 과거 기록을 확인할 수 있습니다!                  ║
║                                                                            ║
║          ┌─────────────────┐              ┌─────────────────┐             ║
║          │ NPC 기록 확인    │              │  계속 플레이     │             ║
║          └─────────────────┘              └─────────────────┘             ║
║                                                                            ║
╚════════════════════════════════════════════════════════════════════════════╝
```

#### Zone - 상대 기록 확인 화면
```
╔════════════════════════════════════════════════════════════════════════════╗
║  🕐💫 ZONE - 기억 회상 💫🕐                     ⏱️  남은 시간: 38초     [x] ║
╠════════════════════════════════════════════════════════════════════════════╣
║                                                                            ║
║  📜 고니의 모든 행동 기록 (현재 판 포함)                                    ║
║                                                                            ║
║  ╔═══════════════════════════════════════════════════════════════╗  ▲     ║
║  ║                                                               ║  █     ║
║  ║  ━━━━━━━━━━━━━━━━ 1번째 판 ━━━━━━━━━━━━━━━━                 ║  █     ║
║  ║                                                               ║  █     ║
║  ║  【1차 베팅】                                                 ║  │     ║
║  ║  🃏 상대 패: [🂠 비공개] [4월 열끗 ✓공개]                    ║  │     ║
║  ║  💬 상대 발언: "아, 오늘은 운이 좋네"                         ║  │     ║
║  ║  💰 상대 베팅:                                                ║  │     ║
║  ║     → 하프 (5,000원)                                          ║  │     ║
║  ║     → 콜 (7,000원)                                            ║  │     ║
║  ║                                                               ║  │     ║
║  ║  【2차 베팅】                                                 ║  │     ║
║  ║  🃏 상대 패: [🂠 비공개] [4월 열끗 ✓] [🂠 비공개]            ║  │     ║
║  ║  💬 상대 발언: "내가 이겨버렸네?"                             ║  │     ║
║  ║  💰 상대 베팅:                                                ║  │     ║
║  ║     → 삥 (1,000원)                                            ║  │     ║
║  ║     → 다이 (포기)                                             ║  │     ║
║  ║                                                               ║  │     ║
║  ║  【결과】                                                     ║  │     ║
║  ║  🎯 플레이어 승리 (+20,000원)                                 ║  │     ║
║  ║  📊 고니 멘탈: 95 → 92 (-3)                                   ║  │     ║
║  ║  📊 고니 분노: 5 → 8 (+3)                                     ║  │     ║
║  ║                                                               ║  │     ║
║  ║  ━━━━━━━━━━━━━━━━ 2번째 판 ━━━━━━━━━━━━━━━━                 ║  │     ║
║  ║                                                               ║  │     ║
║  ║  【1차 베팅】                                                 ║  │     ║
║  ║  🃏 상대 패: [🂠 비공개] [1월 광 ✓공개]                      ║  │     ║
║  ║  💬 상대 발언: "이번엔 진짜다."                               ║  │     ║
║  ║  💰 상대 베팅:                                                ║  │     ║
║  ║     → 하프 (3,000원)                                          ║  │     ║
║  ║     → 하프 (7,500원)                                          ║  │     ║
║  ║     → 콜 (10,000원)                                           ║  │     ║
║  ║                                                               ║  │     ║
║  ║  【2차 베팅】                                                 ║  │     ║
║  ║  🃏 상대 패: [🂠 비공개] [1월 광 ✓] [8월 광 ✓공개]           ║  │     ║
║  ║  💬 상대 발언: "광땡이다! 올인!"                              ║  │     ║
║  ║  💰 상대 베팅:                                                ║  │     ║
║  ║     → 올인 (80,000원)                                         ║  │     ║
║  ║                                                               ║  │     ║
║  ║  【결과】                                                     ║  │     ║
║  ║  ⭐ 고니 승리 (+80,000원) - 광땡 vs 5끗                       ║  │     ║
║  ║  📊 고니 멘탈: 92 → 100 (회복!)                               ║  │     ║
║  ║  📊 고니 분노: 8 → 4 (-4)                                     ║  │     ║
║  ║                                                               ║  │     ║
║  ║  ━━━━━━━━━━━━━━━━ 3번째 판 ━━━━━━━━━━━━━━━━                 ║  │     ║
║  ║                                                               ║  │     ║
║  ║  【1차 베팅】                                                 ║  │     ║
║  ║  🃏 상대 패: [🂠 비공개] [7월 띠 ✓공개]                      ║  │     ║
║  ║  💬 상대 발언: "흠... 별로네."                                ║  │     ║
║  ║  💰 상대 베팅:                                                ║  │     ║
║  ║     → 체크 (0원)                                              ║  │     ║
║  ║     → 콜 (2,000원)                                            ║  │     ║
║  ║                                                               ║  ▼     ║
║  ╚═══════════════════════════════════════════════════════════════╝  ▼     ║
║                                                                            ║
║  💡 분석: 고니는 좋은 패에서 공격적으로 베팅하고, 나쁜 패에선 소극적!      ║
║                                                                            ║
║                        ┌─────────────────┐                [X]             ║
║                        │   게임 복귀      │                                ║
║                        └─────────────────┘                                ║
║         (마우스 휠 또는 스크롤바로 스크롤 가능)                             ║
║                                                                            ║
╚════════════════════════════════════════════════════════════════════════════╝
```

#### Zone - 현재 판 상세 기록
```
╔════════════════════════════════════════════════════════════════════════════╗
║  🕐💫 ZONE - 현재 판 분석 💫🕐                  ⏱️  남은 시간: 25초     [x] ║
╠════════════════════════════════════════════════════════════════════════════╣
║                                                                            ║
║  🔍 현재 판 (7번째) - 모든 정보 공개                                       ║
║                                                                            ║
║  ╔═══════════════════════════════════════════════════════════════╗        ║
║  ║                                                               ║        ║
║  ║  ━━━━━━━━━━━━━━━━ 현재 판 시작 ━━━━━━━━━━━━━━━━              ║        ║
║  ║                                                               ║        ║
║  ║  【초기 카드 배분】                                           ║        ║
║  ║  ⏰ 00:00                                                     ║        ║
║  ║  🃏 고니: [5월 열끗] [2월 열끗] ← 모두 비공개로 받음          ║        ║
║  ║  🃏 플레이어: [10월 열끗] [10월 띠]                           ║        ║
║  ║  💬 고니: "흠, 그럭저럭이군..."                                ║        ║
║  ║                                                               ║        ║
║  ║  【1차 베팅 시작】                                            ║        ║
║  ║  ⏰ 00:15                                                     ║        ║
║  ║  ✓ 고니가 [2월 열끗] 공개                                     ║        ║
║  ║  🃏 고니 공개 패: [5월 열끗 🂠] [2월 열끗 ✓]                 ║        ║
║  ║  💬 고니: "2끗밖에 안 되는데... 체크!"                        ║        ║
║  ║  💰 고니 베팅: 체크 (0원)                                     ║        ║
║  ║                                                               ║        ║
║  ║  ⏰ 00:30                                                     ║        ║
║  ║  ✓ 플레이어가 [10월 열끗] 공개                                ║        ║
║  ║  💰 플레이어 베팅: 삥 (1,000원)                               ║        ║
║  ║                                                               ║        ║
║  ║  ⏰ 00:35                                                     ║        ║
║  ║  💬 고니: "음... 콜!"                                          ║        ║
║  ║  💰 고니 베팅: 콜 (1,000원)                                   ║        ║
║  ║                                                               ║        ║
║  ║  【3장째 카드 배분】                                          ║        ║
║  ║  ⏰ 00:45                                                     ║        ║
║  ║  🃏 고니: [5월 열끗 🂠] [2월 열끗 ✓] [1월 띠 🂠]              ║        ║
║  ║  🃏 플레이어: [10월 열끗 ✓] [10월 띠 🂠] [5월 띠 🂠]          ║        ║
║  ║  💬 고니: "오! 이거 괜찮은데?"                                 ║        ║
║  ║                                                               ║        ║
║  ║  【2차 베팅 시작】                                            ║        ║
║  ║  ⏰ 00:55  ⚡ Zone 발동!                                      ║        ║
║  ║  💰 고니 베팅: 하프 (15,000원)                                ║        ║
║  ║  💬 고니: "자신있어! 따라올 수 있겠어?"                        ║        ║
║  ║  📊 고니 상태: 멘탈 40, 분노 85 (폭주 상태!)                  ║        ║
║  ║                                                               ║        ║
║  ║  ⏰ 01:25  ← 현재 시점                                        ║        ║
║  ║  💰 플레이어 베팅: ??? (결정 대기 중)                          ║        ║
║  ║                                                               ║        ║
║  ╚═══════════════════════════════════════════════════════════════╝        ║
║                                                                            ║
║  ╔═══════════════════════════════════════════════════════════════╗        ║
║  ║  🧠 AI 분석 결과                                              ║        ║
║  ║  ══════════════════════════════════════════════════════════    ║        ║
║  ║  • 고니의 족보: 7끗 (5+2 = 7)                                 ║        ║
║  ║  • 플레이어의 족보: 장땡! (10+10)                             ║        ║
║  ║                                                               ║        ║
║  ║  • 고니가 블러핑 중일 가능성: ★★★★★ (85%)                   ║        ║
║  ║  • 이유: 분노 수치 85로 판단력 저하, 체크 후 갑자기 공격적    ║        ║
║  ║  • 승률: 플레이어 95% vs 고니 5%                              ║        ║
║  ║                                                               ║        ║
║  ║  💡 추천: 콜 또는 하프로 판돈을 키워 승리하세요!               ║        ║
║  ╚═══════════════════════════════════════════════════════════════╝        ║
║                                                                            ║
║                        ┌─────────────────┐                [X]             ║
║                        │   게임 복귀      │                                ║
║                        └─────────────────┘                                ║
║         (마우스 휠 또는 스크롤바로 스크롤 가능)                             ║
║                                                                            ║
╚════════════════════════════════════════════════════════════════════════════╝
```

---

## 📊 개발 현황 (2025-11-07 업데이트)

### ✅ 완료된 기능 (약 90%)

#### 핵심 시스템
- ✅ **config.py**: 전역 설정 관리 (168줄)
  - 화면 설정 (1280x720, 60FPS)
  - 색상 팔레트 (블리자드 스타일 등급 색상)
  - 게임 규칙 설정
  - Zone 시스템 설정
  - LLM 설정

#### 게임 로직 (core/)
- ✅ **card.py**: 카드 및 덱 시스템
  - 화투 20장 (1~10월, 광/띠/열끗)
  - 덱 생성, 셔플, 배분
- ✅ **hand_evaluator.py**: 족보 판정 시스템
  - 12개 기본 족보 (삼팔광땡 ~ 망통)
  - 4개 특수 족보 (땡잡이, 구사, 멍텅구리구사, 암행어사)
  - 족보 비교 및 승패 판정
- ✅ **player.py**: 플레이어 관리
  - Player 기본 클래스
  - HumanPlayer 클래스
  - 금액, 패 관리
- ✅ **zone.py**: Zone 시스템
  - 확률 기반 발동 (기본 5%, 고액 15%, 특수족보 20%)
  - 게임 기록 추적 (카드, 베팅, 발언)
  - 라운드당 1회 제한
- ✅ **game.py**: 게임 메인 로직 (963줄)
  - 라운드 관리 (10라운드)
  - 베팅 시스템 (다이/체크/삥/하프/콜/올인)
  - 턴 관리 및 선 결정
  - 쇼다운 및 승패 판정

#### AI 시스템 (ai/)
- ✅ **npc.py**: NPC AI
  - 4가지 능력치 (composure, deception, boldness, recovery)
  - 멘탈/분노 상태 관리 (0-100)
  - 성격 기반 베팅 결정
  - 블러핑 시스템
- ✅ **llm_handler.py**: LLM 통신
  - Ollama API 연동 구조
  - 임시 대사 시스템 (폴백)
  - 상황별 대사 생성 로직

#### UI 시스템 (ui/)
- ✅ **renderer.py**: 렌더링 관리자
  - 테이블, 텍스트, 박스 렌더링
  - 프로그레스 바
  - 외곽선 텍스트
- ✅ **button.py**: 버튼 컴포넌트
  - Button (일반), BetButton (베팅)
  - DangerButton (위험), HighlightButton (강조)
  - ButtonGroup (버튼 그룹 관리)
- ✅ **card_display.py**: 카드 이미지 로더
  - PNG 이미지 로딩
  - 텍스트 폴백 시스템
  - 21개 카드 이미지 지원
- ✅ **game_screen.py**: 메인 게임 화면 (2544줄)
  - 게임 상태별 화면 전환
  - 대화 시스템 (대화창, 속마음)
  - Zone UI
  - 족보 화면 (스크롤 지원)
  - NPC 선택 화면 (3명)
  - 베팅 버튼 UI
  - 카드 선택 UI
  - 이벤트 처리 우선순위 최적화

#### 에셋
- ✅ **카드 이미지**: 21개 PNG 파일
  - 광: 1g, 3g, 8g
  - 열끗: 2k, 4k, 5k, 6k, 7k, 8k, 9k, 10k
  - 띠: 1t, 2t, 3t, 4t, 5t, 6t, 7t, 9t, 10t
  - 뒷면: back.png

#### 실행 파일
- ✅ **main.py**: Pygame GUI 버전
- ✅ **main_console.py**: 콘솔 테스트 버전

### 🚧 개선 중 (약 5%)
- 🚧 **UI/UX 폴리싱**
  - 애니메이션 추가
  - 이펙트 강화
- 🚧 **밸런스 조정**
  - NPC 난이도 조정
  - Zone 발동 확률 조정

### 📋 향후 계획 (약 5%)
- 📋 **LLM 실제 연동**
  - Ollama + Eeve 모델 테스트
  - 실시간 대사 생성
- 📋 **사운드 시스템**
  - BGM 추가
  - 효과음 (카드, 베팅, Zone 발동 등)
- 📋 **추가 NPC**
  - 다양한 성격의 NPC 추가
  - 난이도별 캐릭터
- 📋 **Zone UI 고도화**
  - 기록 시각화 개선
  - 타임라인 UI

### 🎯 현재 플레이 가능 상태

게임은 **현재 플레이 가능한 상태**입니다:
- ✅ 완전한 섯다 게임 로직
- ✅ AI NPC와 대전 가능
- ✅ Zone 시스템 작동
- ✅ 족보 확인 기능 (언제든 접근 가능)
- ✅ 3명의 NPC 선택 가능 (호구, 고광렬, 아귀)
- ✅ 대화 시스템 (임시 대사)
- ✅ 10라운드 완주 가능

---

## 🎯 개발 우선순위 제안

### ~~Phase 1: 기본 플레이 가능~~ ✅ 완료
1. ~~Pygame 기본 UI 구현~~
2. ~~플레이어 카드 선택 입력~~
3. ~~배팅 버튼 입력~~
4. ~~게임 진행 흐름 연결~~

### Phase 2: 완성도 향상 (현재 진행 중)
1. 🚧 Zone UI 고도화 (기본 구현 완료)
2. ✅ 카드 이미지 추가 (21개 완료)
3. 📋 기본 사운드 추가
4. 🚧 NPC AI 로직 개선 (밸런스 조정)

### Phase 3: 폴리싱 (향후)
1. 📋 애니메이션 추가
2. 📋 추가 NPC 페르소나
3. 📋 저장/불러오기
4. 📋 통계 시스템
5. 📋 LLM 실제 연동

---

## 💡 개발 시 주의사항

### LLM API
- Ollama는 로컬 실행이므로 속도가 느릴 수 있음
- API 호출 실패 시 fallback 대사 사용ㄴ
- 프롬프트 최적화로 응답 품질 개선 필요

### 게임 밸런스
- Zone 발동 확률은 테스트 후 조정 필요
- NPC 능력치 밸런스 조정
- 베팅 금액 범위 조정

### 성능
- Pygame 렌더링 최적화
- 불필요한 리소스 로드 최소화
- 메모리 관리 (카드 이미지 캐싱 등)

---

## 🔗 참고 자료

### 섯다 룰
- 한국 화투 게임 규칙
- 족보 우선순위 및 특수 규칙

### Pygame
- 공식 문서: https://www.pygame.org/docs/
- 이벤트 처리, 렌더링, 사운드 재생

### Ollama
- 공식 사이트: https://ollama.ai
- API 문서: https://github.com/ollama/ollama/blob/main/docs/api.md

---

## 📞 세션 재개 시 체크리스트

새로운 세션에서 작업을 재개할 때 다음을 확인하세요:

1. **현재 구현 상태 파악**
   - 완료된 기능 확인
   - 진행 중인 작업 확인
   - TODO 리스트 검토

2. **환경 확인**
   - Python, Pygame 설치 여부
   - Ollama 실행 상태
   - 에셋 파일 존재 여부

3. **다음 작업 선택**
   - 우선순위에 따라 작업 항목 선택
   - 구체적인 구현 방법 논의
   - 필요한 정보 추가 수집

4. **테스트**
   - 변경사항 테스트
   - 게임 플레이 테스트
   - 버그 수정

---

## 📅 개발 이력

### 2025-11-03
- ✅ 프로젝트 구조 생성
- ✅ 핵심 시스템 구현 (카드, 족보, NPC, LLM, Zone)
- ✅ 콘솔 버전 완성
- ✅ 유닛 테스트 작성
- ✅ 문서화 (README.md, overview.md)

### 2025-11-04
- ✅ Pygame UI 구현 시작
- ✅ 렌더링 시스템 구현
- ✅ 버튼 컴포넌트 구현
- ✅ 카드 표시 시스템 구현
- ✅ 메인 게임 화면 통합 (2500+ 줄)

### 2025-11-07
- ✅ 족보 버튼 우선순위 수정 (대화창 위에도 동작)
- ✅ 이벤트 처리 순서 최적화
- ✅ 렌더링 레이어 순서 정리
- ✅ 문서 업데이트 (README.md, overview.md)
- ✅ 개발 현황 정리 (v0.9 Beta - 플레이 가능)

---

## 🎯 현재 상태 요약

**버전**: v0.9 Beta  
**플레이 가능 여부**: ✅ 예  
**완성도**: 약 90%  
**다음 단계**: UI/UX 폴리싱, LLM 연동

---

**이 문서는 프로젝트 개요 및 작업 내용을 기록하기 위한 문서입니다.**  
**세션이 변경되어도 이 문서를 참고하여 작업을 계속할 수 있습니다.**

